<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Social Quiz â€“ Famous Academy</title>

<style>
:root { 
    --accent:#3b82f6;
    --accent-glow:rgba(59,130,246,.5);
    --text:#ffffff;
}

body{
    margin:0;
    padding:20px;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:flex-start;
    font-family:system-ui,Segoe UI,sans-serif;
    color:var(--text);
    background:
      linear-gradient(rgba(15,23,42,.88),rgba(15,23,42,.88)),
      url("https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?auto=format&fit=crop&w=1600&q=80");
    background-size:cover;
    background-attachment:fixed;
}

.mesh-bg{
    position:fixed;
    inset:0;
    background:radial-gradient(circle at center,rgba(59,130,246,.2),transparent 60%);
    z-index:-1;
}

.container{
    max-width:560px;
    width:100%;
    background:rgba(255,255,255,.06);
    backdrop-filter:blur(20px);
    border:1px solid rgba(255,255,255,.15);
    border-radius:24px;
    overflow:hidden;
    box-shadow:0 25px 50px rgba(0,0,0,.5);
}

.header{
    padding:25px;
    text-align:center;
    border-bottom:1px solid rgba(255,255,255,.15);
}

.school-crest{
    display:flex;
    justify-content:center;
    margin-bottom:10px;
}

.crest-inner{
    width:90px;
    height:90px;
    border-radius:50%;
    background:linear-gradient(135deg,#1e40af,#3b82f6);
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 0 0 4px rgba(255,255,255,.15);
}

.crest-text{
    font-size:.7rem;
    font-weight:900;
    letter-spacing:2px;
    text-align:center;
}

.header h1{
    margin:0;
    font-size:1.5rem;
    font-weight:800;
}

.content{padding:30px}
.hidden{display:none}

input,textarea{
    width:100%;
    padding:14px;
    margin-bottom:18px;
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.2);
    border-radius:12px;
    color:white;
}

textarea{min-height:90px}

input:focus,textarea:focus{
    outline:none;
    border-color:var(--accent);
    box-shadow:0 0 0 4px var(--accent-glow);
}

.btn{
    width:100%;
    padding:16px;
    border:none;
    border-radius:12px;
    font-weight:700;
    cursor:pointer;
}

.btn-main{background:var(--accent);color:white}
.btn-alt{background:rgba(255,255,255,.15);color:white;margin-top:10px}

.q-image{
    width:100%;
    border-radius:12px;
    margin-bottom:10px;
}

.score{
    font-size:4rem;
    font-weight:900;
    text-align:center;
}
</style>
</head>

<body>
<div class="mesh-bg"></div>

<div class="container">

<!-- HEADER -->
<div class="header">
    <div class="school-crest">
        <div class="crest-inner">
            <span class="crest-text">FAMOUS<br>ACADEMY</span>
        </div>
    </div>
    <h1>SOCIAL QUIZ</h1>
</div>

<!-- STEP 1: INDEX -->
<div id="step1" class="content">
    <input id="indexInput" placeholder="Index Number">
    <button class="btn btn-main" onclick="goDetails()">Continue</button>
    <button class="btn btn-alt" onclick="openCheck()">Check Result</button>
</div>

<!-- STEP 2: DETAILS -->
<div id="step2" class="content hidden">
    <input id="nameInput" placeholder="Full Name">
    <button class="btn btn-main" onclick="startQuiz()">Start Quiz</button>
</div>

<!-- QUIZ -->
<div id="quiz" class="content hidden">
<form id="quizForm">
    <textarea id="q1" placeholder="Define Industrial Revolution" required></textarea>
    <input id="q2" placeholder="Origin of Industrial Revolution" required>

    <img class="q-image"
         src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=600">
    <input id="q3" placeholder="Identify the machine" required>

    <textarea id="q4" placeholder="State two impacts on Africa" required></textarea>

    <button class="btn btn-main">Submit</button>
</form>
</div>

<!-- RESULT AFTER SUBMISSION -->
<div id="result" class="content hidden">
    <div id="finalScore" class="score"></div>
    <button class="btn btn-main" onclick="window.print()">Download Result</button>
</div>

<!-- CHECK RESULT PAGE -->
<div id="check" class="content hidden">
    <input id="checkIndex" placeholder="Enter Index Number">
    <button class="btn btn-main" onclick="checkResult()">View Result</button>
    <div id="checkOutput"></div>
</div>

</div>

<script>
const validIndexes = ["202501","202502","202503"];

let currentIndex = "";
let currentName = "";

function goDetails(){
    const idx = indexInput.value.trim();
    if(!validIndexes.includes(idx)){
        alert("Invalid Index Number");
        return;
    }
    currentIndex = idx;
    step1.classList.add("hidden");
    step2.classList.remove("hidden");
}

function startQuiz(){
    if(nameInput.value.trim()===""){
        alert("Enter your full name");
        return;
    }
    currentName = nameInput.value.trim();
    step2.classList.add("hidden");
    quiz.classList.remove("hidden");
}

quizForm.onsubmit = e =>{
    e.preventDefault();
    let score = 0;

    if(q1.value.length > 20) score += 25;
    if(q2.value.length > 5) score += 25;
    if(q3.value.length > 5) score += 25;
    if(q4.value.length > 30) score += 25;

    const data = {
        name: currentName,
        score: score
    };

    localStorage.setItem("RESULT_"+currentIndex, JSON.stringify(data));

    quiz.classList.add("hidden");
    result.classList.remove("hidden");
    finalScore.innerText = score + "%";
}

function openCheck(){
    step1.classList.add("hidden");
    check.classList.remove("hidden");
}

function checkResult(){
    const data = localStorage.getItem("RESULT_"+checkIndex.value.trim());
    if(!data){
        checkOutput.innerHTML = "<p>No result found</p>";
        return;
    }
    const r = JSON.parse(data);
    checkOutput.innerHTML =
        `<h3>${r.name}</h3><p><strong>Score:</strong> ${r.score}%</p>`;
}
</script>

</body>
</html>
