<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rise of the KMS - Animated Story</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        :root {
            --bg-school: #78C0E0;
            --bg-rivals: #4A0E0E;
            --bg-sunset: #FF9E64;
        }
        body, html { margin: 0; padding: 0; overflow: hidden; font-family: 'Comic Sans MS', cursive; }
        
        #stage {
            width: 100vw;
            height: 100vh;
            background-color: var(--bg-school);
            position: relative;
            transition: background 1.5s ease;
        }

        /* Characters */
        .char {
            position: absolute;
            bottom: -300px;
            width: 120px;
            height: 180px;
            border-radius: 15px 15px 5px 5px;
            border: 4px solid #333;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            text-align: center;
        }
        
        #jayden { background: #FFD93D; left: 10%; } /* Yellow like Spongebob */
        #kms-squad { background: #6BCB77; right: 10%; }
        #rivals { background: #FF6B6B; left: 45%; }

        /* Scenery */
        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100px;
            background: #f4d03f;
            border-top: 5px solid #d4ac0d;
        }

        /* Text Box */
        #caption-box {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            background: rgba(255,255,255,0.9);
            padding: 20px;
            border-radius: 20px;
            border: 4px solid #005a9c;
            font-size: 22px;
            text-align: center;
            box-shadow: 0 10px 0 rgba(0,0,0,0.2);
            z-index: 100;
        }

        #start-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.8);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 200;
            font-size: 30px;
        }
    </style>
</head>
<body>

<div id="start-overlay">Click to Play: Rise of the KMS</div>

<div id="stage">
    <div id="caption-box">ðŸŽ¬ Title: Rise of the KMS</div>
    <div class="ground"></div>

    <div id="jayden" class="char">Jayden<br>(KMS)</div>
    <div id="kms-squad" class="char">KMS<br>Squad</div>
    <div id="rivals" class="char">Rival<br>Group</div>
</div>

<script>
    const scenes = [
        { 
            text: "In the heart of Accra, there stood a group of young dreamersâ€¦ brave, bold, and full of purpose. They were more than friends â€” they were the Kingsridge Motivational Squadâ€¦ KMS.", 
            bg: "#78C0E0", 
            anim: () => {
                gsap.to("#kms-squad", { bottom: "100px", duration: 1, ease: "back.out" });
            }
        },
        { 
            text: "A quiet student named Jayden struggles with self-confidence at Kingsridge School. He feels invisible.", 
            bg: "#A2D2FF",
            anim: () => {
                gsap.to("#kms-squad", { bottom: "-300px", duration: 0.5 });
                gsap.to("#jayden", { bottom: "100px", left: "45%", duration: 1 });
            }
        },
        { 
            text: "Until Kwame, Afia, Malik, and Sena reach out to him. They introduce him to KMS â€” a group that inspires others.", 
            bg: "#78C0E0",
            anim: () => {
                gsap.to("#jayden", { left: "20%", duration: 1 });
                gsap.to("#kms-squad", { bottom: "100px", right: "20%", duration: 1 });
            }
        },
        { 
            text: "KMSâ€™s motto: One voice, one goal â€” to lift others as we rise. They plan talent shows and clean-up projects.", 
            bg: "#6BCB77",
            anim: () => {
                gsap.to(".char", { y: -20, repeat: 3, yoyo: true, duration: 0.3 });
            }
        },
        { 
            text: "Suddenly, a rival group begins mocking their efforts, calling them too soft.", 
            bg: "#4A0E0E",
            anim: () => {
                gsap.to("#rivals", { bottom: "100px", scale: 1.2, duration: 0.5 });
                gsap.to("#jayden", { x: -50, duration: 0.5 });
            }
        },
        { 
            text: "Jayden wants to quit... but a teacher reminds him: Leaders are not always loud. They are consistent.", 
            bg: "#FFD93D",
            anim: () => {
                gsap.to("#rivals", { bottom: "-300px", duration: 0.5 });
                gsap.to("#jayden", { x: 0, scale: 1.3, duration: 1 });
            }
        },
        { 
            text: "KMS decides to host the biggest student event of the term â€” The Day of Change!", 
            bg: "#FF9E64",
            anim: () => {
                gsap.to("#kms-squad", { bottom: "100px", right: "10%", duration: 1 });
                gsap.to("#jayden", { left: "10%", scale: 1, duration: 1 });
                gsap.to("#stage", { filter: "brightness(1.2)" });
            }
        }
    ];

    let currentScene = 0;

    function playScene() {
        if (currentScene >= scenes.length) {
            document.getElementById("caption-box").innerText = "THE END";
            return;
        }

        const scene = scenes[currentScene];
        
        // Change Background
        document.getElementById("stage").style.backgroundColor = scene.bg;
        
        // Change Text
        document.getElementById("caption-box").innerText = scene.text;
        
        // Run Animations
        scene.anim();

        // Speak Text
        const speech = new SpeechSynthesisUtterance(scene.text);
        speech.rate = 0.9;
        speech.pitch = 1.1;
        
        speech.onend = () => {
            currentScene++;
            setTimeout(playScene, 1000); // Wait 1 second before next scene
        };

        window.speechSynthesis.speak(speech);
    }

    document.getElementById("start-overlay").onclick = () => {
        document.getElementById("start-overlay").style.display = "none";
        playScene();
    };
</script>

</body>
</html>
